<html>
<head>
<link rel="stylesheet" type="text/css" href="css/example.css" />
</head>
<body data-ej-base="http://eachdataapi.azurewebsites.net">
<h1>Example 10: Bulk Insert</h1>
<table id="unit1">
	<tr>
		<td>Name</td>
		<td>Quantity</td>
	</tr>
	<tr class="item-row">
		<td><input type="text" class="item-name" /></td>
		<td><input type="text" class="item-quantity" /></td>
	</tr>
	<tr class="item-row">
		<td><input type="text" class="item-name" /></td>
		<td><input type="text" class="item-quantity" /></td>
	</tr>
	<tr class="item-row">
		<td><input type="text" class="item-name" /></td>
		<td><input type="text" class="item-quantity" /></td>
	</tr>
	<tr class="item-row">
		<td><button id="btnAdd" data-ej-click-input="item[].name@.item-name;item[].text@.item-quantity"
		data-ej-click="post:/data/items"
		data-ej-click-output="#addItemStatus(show)">Submit</button></td>
		<td>&nbsp;</td>
	</tr>	
</table>
<div id="addItemStatus" class="status hide">
	Status: added
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="js/each-1.0.js" type="text/javascript"></script>
<!-- Below are unit tests -->
<hr />
<div id="message"></div>
<div id="message-template" class="hide">
	<div class="passed-message"><span class="title"></span> Passed</div>
	<div class="failed-message"><span class="title"></span> Failed</div>
</div>
<script type="text/javascript">
var fnRunTest1 = function() {
	var title = "Bulk Insert";
	$("input.item-name").eq(0).val("Milk");
	$("input.item-quantity").eq(0).val("15");
	$("input.item-name").eq(1).val("Egg");
	$("input.item-quantity").eq(1).val("25");
	$("input.item-name").eq(2).val("Yogurt");
	$("input.item-quantity").eq(2).val("18");
	$("#btnAdd").click();
	setTimeout(function() {
		if ($("#addItemStatus").is(":visible")) {
			fnSetPassedMessage(title);
		} else {
			fnSetFailedMessage(title);
		}	
	}, 1000);
};
var fnSetPassedMessage = function(title) {
	var msg = $("#message-template").find(".passed-message").clone();
	msg.find(".title").html(title);
	$("#message").append(msg);	
};
var fnSetFailedMessage = function(title) {
	var msg = $("#message-template").find(".failed-message").clone();
	msg.find(".title").html(title);
	$("#message").append(msg);	
};
setTimeout(function() { 
	fnRunTest1(); 
}, 3000);
</script>
</body>
</html>